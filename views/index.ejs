<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mood2Movie - Find Movies Based on Your Mood</title>
  <link rel="stylesheet" href="/css/style.css">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Lucide Icons CDN -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
  <!-- Floating background orbs -->
  <div class="background-orb"></div>
  <div class="background-orb"></div>
  <div class="background-orb"></div>
  
  <!-- Sticky Navigation Bar -->
  <nav id="navbar" class="navbar">
    <div class="nav-container">
      <!-- Logo Section -->
      <div class="nav-logo">
        <a href="/">
          <i class="fas fa-film"></i>
          <span class="gradient-text">Mood2Movie</span>
        </a>
      </div>

      <!-- Navigation Links (hidden on mobile) -->
      <div class="nav-links">
        <a href="/" class="nav-link active">Home</a>
        <a href="/about" class="nav-link">About</a>
        <a href="/profile" class="nav-link">My Profile</a>
      </div>

      <!-- User Profile Section -->
      <div id="nav-user" class="nav-user" style="display: none;">
        <div class="user-avatar-nav" id="user-avatar-nav">
          <img id="nav-user-avatar" src="/placeholder-avatar.png" alt="User Avatar" class="avatar-img">
          <span class="user-name-nav" id="nav-user-name">Guest</span>
          <i class="fas fa-chevron-down dropdown-icon"></i>
        </div>

        <!-- Dropdown Menu -->
        <div id="nav-dropdown" class="nav-dropdown">
          <div class="dropdown-header">
            <img id="dropdown-avatar" src="/placeholder-avatar.png" alt="User Avatar" class="dropdown-avatar">
            <div class="dropdown-user-info">
              <strong id="dropdown-name">Abhijeet Jha</strong>
              <span id="dropdown-email">jhaabhijeet694@gmail.com</span>
            </div>
          </div>
          <ul class="dropdown-menu">
            <li class="dropdown-item">
              <i class="fas fa-user"></i>
              <span>Profile</span>
            </li>
            <li class="dropdown-item">
              <i class="fas fa-history"></i>
              <span>Search History</span>
            </li>
            <li class="dropdown-item">
              <i class="fas fa-cog"></i>
              <span>Settings</span>
            </li>
            <li class="dropdown-divider"></li>
            <li class="dropdown-item logout" id="nav-logout">
              <i class="fas fa-sign-out-alt"></i>
              <span>Sign Out</span>
            </li>
          </ul>
        </div>
      </div>

      <!-- Login Button (shown when not logged in) -->
      <div id="nav-login" class="nav-login">
        <button class="btn-nav-login" id="nav-login-btn">
          <i class="fas fa-sign-in-alt"></i>
          <span>Sign In</span>
        </button>
      </div>

      <!-- Mobile Menu Button -->
      <div class="mobile-menu-btn" id="mobile-menu-btn">
        <i class="fas fa-bars"></i>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-menu">
      <a href="/" class="mobile-nav-link">Home</a>
      <a href="/about" class="mobile-nav-link">About</a>
      <a href="/profile" class="mobile-nav-link">My Profile</a>
    </div>
  </nav>

  <div class="min-h-screen bg-slate-50">
    <div class="max-w-4xl mx-auto px-4 py-8">
      <!-- Hero Section -->
      <div class="hero-section">
        <div class="hero-content">
          <h1 class="hero-title">
            <span class="gradient-text">Mood2Movie</span>
          </h1>
          <p class="hero-subtitle">Find Movies Based on Your Mood</p>
          <p class="hero-description">
            Discover personalized movie recommendations powered by AI that match your current emotional state
          </p>
        </div>
        
        <!-- Floating mood suggestions -->
        <div class="mood-suggestions">
          <span class="mood-tag">Happy</span>
          <span class="mood-tag">Sad</span>
          <span class="mood-tag">Excited</span>
          <span class="mood-tag">Relaxed</span>
          <span class="mood-tag">Adventurous</span>
          <span class="mood-tag">Romantic</span>
        </div>
      </div>

      <!-- Authentication Section -->
      <div id="auth-section" class="auth-section">
        <!-- User Profile (shown when logged in) -->
        <div id="user-profile-card" class="user-profile-card" style="display: none;">
          <div class="user-avatar-container">
            <img id="user-avatar" class="user-avatar" src="" alt="Profile">
          </div>
          <div class="user-info">
            <p id="user-name" class="user-name"></p>
            <p id="user-email" class="user-email"></p>
          </div>
          <button id="logout-button" class="logout-btn">
            <i data-lucide="log-out"></i>
          </button>
        </div>
        
        <!-- Login Card (shown when logged out) -->
        <div id="login-card" class="login-card">
          <h2 class="login-title">Sign in to get started</h2>
          <p class="login-subtitle">
            Create an account to save your movie recommendations and search history
          </p>
          
          <div class="auth-buttons">
            <button id="login-google" class="btn-auth btn-google">
              <svg class="google-icon" viewBox="0 0 24 24">
                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
              </svg>
              Continue with Google
            </button>
            <button id="login-github" class="btn-auth btn-github">
              <i data-lucide="github"></i>
              Continue with GitHub
            </button>
          </div>
        </div>
      </div>

      <!-- Main Content Grid -->
      <div id="main-grid" class="main-grid" style="display: none;">
        <div class="content-area">
          <!-- Mood Input Section -->
          <div class="mood-input-card">
            <h2 class="mood-input-title">How are you feeling today?</h2>
            
            <form id="mood-form" class="mood-form">
              <div class="input-wrapper">
                <input 
                  type="text" 
                  id="mood" 
                  placeholder="Describe your current mood... (e.g., happy, sad, excited, relaxed)"
                  autocomplete="off"
                  class="mood-input"
                >
                <i data-lucide="search" class="search-icon"></i>
              </div>
              
              <button id="go" type="submit" class="submit-btn">
                <span class="btn-text">Get Movies</span>
                <div class="loading-spinner" style="display: none;">
                  <div class="spinner"></div>
                  Finding Movies...
                </div>
              </button>
            </form>

            <div class="mood-suggestions-input">
              <p class="suggestions-label">Try these mood suggestions:</p>
              <div class="suggestions-grid">
                <button class="suggestion-btn" data-mood="Happy and energetic">Happy and energetic</button>
                <button class="suggestion-btn" data-mood="Feeling nostalgic">Feeling nostalgic</button>
                <button class="suggestion-btn" data-mood="Need a good laugh">Need a good laugh</button>
                <button class="suggestion-btn" data-mood="Want to cry">Want to cry</button>
                <button class="suggestion-btn" data-mood="Adventurous mood">Adventurous mood</button>
                <button class="suggestion-btn" data-mood="Romantic evening">Romantic evening</button>
                <button class="suggestion-btn" data-mood="Feeling philosophical">Feeling philosophical</button>
                <button class="suggestion-btn" data-mood="Need motivation">Need motivation</button>
              </div>
            </div>
          </div>
          
          <!-- Movie Results Section -->
          <div id="movie-results" class="movie-results">
            <div class="empty-state">
              <div class="empty-icon">ðŸŽ¬</div>
              <h3 class="empty-title">No movies found yet</h3>
              <p class="empty-description">
                Describe your mood above to get personalized movie recommendations
              </p>
            </div>
          </div>
        </div>
        
        <!-- User Profile Sidebar -->
        <div class="sidebar">
          <div id="user-profile-sidebar" class="user-profile-sidebar">
            <!-- Will be populated by JavaScript -->
          </div>
        </div>
      </div>

      <!-- Disabled State for Non-Authenticated Users -->
      <div id="disabled-state" class="disabled-state">
        <div class="mood-input-card disabled">
          <h2 class="mood-input-title">How are you feeling today?</h2>
          
          <div class="mood-form">
            <div class="input-wrapper">
              <input 
                type="text" 
                placeholder="Describe your current mood... (e.g., happy, sad, excited, relaxed)"
                disabled
                class="mood-input"
              >
              <i data-lucide="search" class="search-icon"></i>
            </div>
            
            <button disabled class="submit-btn">Get Movies</button>
          </div>
        </div>
        <p class="disabled-message">
          Sign in to get personalized movie recommendations based on your mood
        </p>
      </div>
    </div>
  </div>

  <!-- Load Firebase config first -->
  <script type="module" src="/js/firebase-config.js"></script>
  <!-- Then load the main script -->
  <script type="module" src="/js/script.js"></script>
  
  <!-- Initialize Lucide icons -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      lucide.createIcons();
    });
  </script>
</body>
</html>
